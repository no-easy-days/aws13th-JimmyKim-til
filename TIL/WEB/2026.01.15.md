# [2026-01-15]

## ☀️ 오늘의 목표 (Scrum)

- [FastAPI 강의 복습]
- [FastAPI 백엔드 개발 과제]

## 📝 배운 내용 (Today I Learned)

## FastAPI 교재 복습
1. Path Parameter
  - URL 경로의 중괄호 안에 변수 이름을 넣으면 된다.
  > @app.get("/items/{item_id}")
  - 고정된 경로가 먼저 선언되어 있어야하며, 동적 경로는 그 뒤에 선언해야한다.


2. Query Parameter
  - 항상, 기본값이 정의된 것 부터 먼저!!!!
  - 기본값이 없는 것 부터 선언 하면 그 뒤로는 쭉 기본값이 없는 애들만 와야한다!!!


3. Request Body
  - 실제 데이터를 담는 공간, "POST", "PUT", "PATCH", "DELETE" 메서드 쓸 때 활용하겠지 당연히.
  - ***FastAPI에서는 Pydantic 모델로 Request Body를 정의한다.***
  - Path + Query + Body를 조합하게 된다면...?
    ```
    @app.post("/items/{item_id}")
    async def update_item(item_id: int, item: Item, q: str | None = None):
    """
    item_id: 경로에 있으니까 → Path Parameter !!!!
    item: 클래스로 선언된 Pydantic 모델을 활용하니까 → Request Body  !!!!
    q: 단순 타입(str)이니까 → Query Parameter !!!!
    """
    result = {"item_id": item_id, **item.model_dump()}
    if q:
        result.update({"q": q})
    return result
    ```

### Pydantic 모델 이해하기.
 - 주요 목적 : 데이터 유효성 검증 라이브러리. "까다롭게 검사해준다."
 - Enum과 유사하게, class 선언 및 필수 or 선택 필드로 구분하여 설계한다.
 - **Request Body에서 Class를 불러오면 Pydantic을 활용하는 것이고, Body라는 것을 인지하자.**


4. Annotated 활용하기
 - 기본 패턴 : **Annotated[타입, Path(옵션들), Query(옵션들), Cookie(옵션들), Header(옵션들)] = 기본값**
  > Query와 Path의 옵션은 거~~~의 비슷하다!!, 결국 패턴은 바뀌지 않음을 기억하라.
 - 문법 예시
   ```
   q: Annotated[str | None, Query(min_length=3, max_length=50, pattern="^[a-z]+$")] | = None
   ```
 - 쿼리를 여러 값을 받을 경우
  ```
   q: Annotated[list[str] | None, Query()] = None
  ```
  > Query()를 안넣으면, Request Body로 인식된다! 주의하기!

5. Query, Header, Path Parameter Models 활용하기
 - 기존에 Annotated로 쭉 나열해야했던 것을, class 선언을 통해 한줄만으로 끝낸다.
 - 코드가 훨씬 깔끔해진다! pydantic의 BaseModel, Field(유효성 검사) 모듈을 사용해야함. 


### 왜 굳이 "함수" 형태로 선언해서 써야하는가?
**"하나의 요청 = 하나의 작업"**이라는 단위를 명확하게 관리하기 위해서입니다.
1. 관심사 분리: 주소(URL)마다 해야 할 일이 다릅니다. 각 일을 함수라는 독립된 상자에 담아두면 코드를 관리하기가 훨씬 쉽습니다.

2. 의존성 주입(Dependency Injection): FastAPI는 함수 파라미터를 통해 필요한 기능(데이터베이스 세션, 인증 정보 등)을 자동으로 넣어주는 기능을 강력하게 지원합니다. 클래스보다 함수 형태가 이 기능을 활용하기에 훨씬 유연합니다.

3. 자동 문서화: FastAPI는 이 함수 구조를 분석해서 Swagger UI라는 API 문서(/docs)를 자동으로 만들어 줍니다. 함수의 이름, 파라미터, 리턴 타입이 그대로 문서의 기준이 됩니다.


## 4주차 과제 시작, 주요 포인트
1. 이메일 주소 형식
  - pydantic의 EmailStr 모듈을 사용하면 유효성 검증이 쉽다.
2. Request Header
  - **요청을 보내는 쪽(클라이언트)** 에서 설정하는 거고, fastAPI 서버는 "나는 이런 형식의 요청을 받겠어요~~" 라고 명시만 하면 된다.
  > 굳이 Content-Type 관련해서 코드를 작성해주고 그럴 필요가 없다는 뜻!
## 🔥 도전 과제 & 해결 (Challenge & Solution)

> 오늘 겪은 문제나 도전적인 과제, 그리고 그것을 어떻게 해결했는지 기록합니다.
>
- **과제/문제**: 4주차 과제 분량
- **시도 및 해결**: 너무 많다. 시간 빌게이츠가 되어야겠다.

## 💭 오늘의 회고 (Retrospective)

- **Keep (좋았던 점)**: 그래도 엔드포인트 1개 끝냈다.
- **Problem (아쉬웠던 점)**: 1개밖에 못했다.
- **Try (시도할 점)**: 복습 마무리 & 4주차 과제 시작

## 🔗 참고 자료 (References)
