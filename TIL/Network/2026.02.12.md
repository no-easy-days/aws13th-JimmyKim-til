# [2026-02-12]

## β€οΈ μ¤λμ λ©ν‘

- [λ„¤νΈμ›ν¬ μ΄λ΅  ~ NAT]

## π“ λ°°μ΄ λ‚΄μ© (Today I Learned)


### PAT (Port NAT)
- ***"λ‚΄λ¶€"β†’"μ™Έλ¶€"*** !! ν¨ν‚· ν•λ‚ν•λ‚λ§λ‹¤ ν¬νΈκ°€ λ¶™μ.
- port? β†’ κ°μΆ… μ„λΉ„μ¤(HTTP, FTP λ“±λ“±)λ“¤μ΄ κµ¬λ™/μ΄μλλ” "ν†µλ΅" ~ Transport Layer
- μ™Έλ¶€ β†’ λ‚΄λ¶€ ?? : λ¶κ°€λ¥ν•λ‹¤. Private Networkλ΅ κµ¬μ„±ν–κΈ° λ•λ¬Έμ— λΌμ°ν… μμ²΄κ°€ λ¶κ°€λ¥ν• κ²ƒμ΄ λ‹Ήμ—°ν•λ‹¤.
- λ‚΄λ¶€ μ£Όμ†κ°€ PAT(Port NAT) μ μ©λλ©΄, ***"ν•λ‚μ μ™Έλ¶€ μΈν„°νμ΄μ¤μ μ£Όμ†"λ΅ λ³€κ²½*** ~ μ™Έλ¶€ λ„¤νΈμ›ν¬μ— κ°™μ΄ λ¬Όλ¦°λ‹¤λ” κ°λ…μΌλ΅ μ΄ν•΄ν•μ.


β€» CISCO λ…λ Ήμ–΄
1.  Source μ •μ(Access Control List ~ ACL)
   - access-list <μ„μμ λ¦¬μ¤νΈID κ°’> permit <PNAT λ€μƒ λ‚΄λ¶€μ Network Address> <μ™€μΌλ“μΉ΄λ“λ§μ¤ν¬>

   
2. λ‚΄λ¶€ / μ™Έλ¶€λ¥Ό λ…μ‹
   - interface <λ‚΄λ¶€ λ„¤νΈμ›ν¬κ°€ λ¬Όλ ¤μλ” μΈν„°νμ΄μ¤> β†’ ip nat inside
   - interface <μ™Έλ¶€λ΅ μ—°κ²°λ λ„¤νΈμ›ν¬κ°€ λ¬Όλ ¤μλ” μΈν„°νμ΄μ¤> β†’ ip nat outside 


3. PNAT μ„¤μ •
   - ip nat inside source list <μ„μ—μ„ μ§€μ •ν• μ„μμ λ¦¬μ¤νΈID κ°’> interface f0/1(***μ™Έλ¶€λ΅ μ—°κ²°λ μΈν„°νμ΄μ¤!!!***) overload

> μ΄ν›„, μ™Έλ¶€λ΅ ping λ…λ Ήμ–΄ λ•λ ¤λ³΄κ±°λ‚, do show ip nat tranμΌλ΅ portκ°€ λ…μ‹λλ©΄μ„ ν†µμ‹ μ΄ λλ” κ²ƒμ„ ν™•μΈν•  μ μλ‹¤.


### DNAT (Destination NAT)
- ***"μ™Έλ¶€"β†’"λ‚΄λ¶€"*** !! λ©μ μ§€λ¥Ό μ°κ³  λ“¤μ–΄κ°„λ‹¤.
- μ™Έλ¶€λ΅ μ—°κ²°λ λ„¤νΈμ›ν¬κ°€ λ¬Όλ ¤μλ” μΈν„°νμ΄μ¤ μ£Όμ†λ¥Ό μ°κ³  λ“¤μ–΄μ¨λ‹¤. ***"κ³µμΈIPκ°€ λ  κ²ƒ."***
- λ‚΄λ¶€ β†’ μ™Έλ¶€ β†’ λ‚΄λ¶€ ? : λ¶κ°€λ¥ν•λ‹¤. Private λ§ λ‚΄μ μ‚¬μ„¤ IPλ΅λ” λΌμ°ν…μ΄ λ¶κ°€λ¥ν•κ³ , λ©μ μ§€μ κ³µμΈ IP κΉμ§€λ§ μ§€μ • κ°€λ¥.
  > κ³µμΈ IP μ£Όμ†λ‘ ν¬νΈ λ²νΈ μ •λ³΄λ¥Ό λ“¤κ³  μ°Ύμ•„μ¤λ©΄ λ‚΄λ¶€ Private λ„¤νΈμ›ν¬ λ§ μ•μΌλ΅ λ“¤μ—¬λ³΄λ‚΄μ¤„κ²~~


β€» CISCO λ…λ Ήμ–΄
1. λ‚΄λ¶€ / μ™Έλ¶€λ¥Ό λ…μ‹
   - interface <λ‚΄λ¶€ λ„¤νΈμ›ν¬κ°€ λ¬Όλ ¤μλ” μΈν„°νμ΄μ¤> β†’ ip nat inside
   - interface <μ™Έλ¶€λ΅ μ—°κ²°λ λ„¤νΈμ›ν¬κ°€ λ¬Όλ ¤μλ” μΈν„°νμ΄μ¤> β†’ ip nat outside 


2. DNAT μ„¤μ •
   - ip nat inside source static tcp <λ‚΄λ¶€ Network Address> <Port λ²νΈ> <μ™Έλ¶€ κ³µμΈ IP> <Port λ²νΈ>
     > λ¨λ“  λ…λ Ήμ–΄λ” λ‚΄λ¶€κ°€ λ¨Όμ €μ΄λ‹¤! ν—·κ°λ¦¬μ§€ λ§μ.


## μνΌλ„¤ν… - Supernetting
- μ„λΈλ„¤ν…(Subnetting)κ³Ό μ •λ°λ€μ κ°λ… ~ ISPμ—…μ²΄μ—μ„ λ§μ΄ ν™μ©ν•λ” κΈ°λ²•
- ***λ€μƒ μ„λΈλ„·μ„ ν¬ν•¨ν•  μ μλ” κ°€μ¥ μ‘μ€ λ„¤νΈμ›ν¬***λ¥Ό κµ¬ν•λ‹¤.
β€» κ³„μ‚° λ°©λ²•
1. μ„λΈλ„·μ„ λ‚μ—΄ν•κ³ , ***κ³ μ •λλ” μµλ€ Bit***λ¥Ό κµ¬ν•λ‹¤. β†’ μ„λΈλ„¤ν…κ³Ό λ§μ°¬κ°€μ§€λ΅ λ„¤νΈμ›ν¬ κ·λ¨ & Prefixλ¥Ό κµ¬ν•λ‹¤.
2. κ³ μ •λμ§€ μ•μ€ Bitλ¥Ό 0μΌλ΅ μ±„μ›μ„ Network Address λ¥Ό κµ¬ν•λ‹¤.
> μ™Έλ¶€λ΅ ν†µμ‹ λμ–΄μ•Ό ν•λ” μ„λΈλ„·λ“¤μ΄ λ§μ„ κ²½μ°, μνΌλ„¤ν…μ„ ν• λ‹¤μ PNATμ Access List μ— μ μ©ν•  λ• ν™μ©!!!!!!


## π”¥ λ„μ „ κ³Όμ  & ν•΄κ²° (Challenge & Solution)

- **κ³Όμ /λ¬Έμ **: X
- **μ‹λ„ λ° ν•΄κ²°**: X

## π’­ μ¤λμ νκ³  (Retrospective)

- **Keep (μΆ‹μ•λ μ )**: μ΄ν•΄ν•λ” μ¬λ―Έκ°€ μƒκΈ΄λ‹¤.
- **Problem (μ•„μ‰¬μ› λ μ )**: PNAT, DNATκ°€ μ•„μ§μ€ ν—·κ°λ¦°λ‹¤.
- **Try (μ‹λ„ν•  μ )**: λ³µμµμ„ ν†µν•΄ ν™•μ‹¤ν κµ¬λ¶„ν•  μ μλ” κ²½μ§€μ— μ¤λ¥΄λ„λ΅.

## π”— μ°Έκ³  μλ£ (References)
