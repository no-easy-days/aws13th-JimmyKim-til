# [2026-02-12]

## ☀️ 오늘의 목표

- [네트워크 이론 ~ NAT]

## 📝 배운 내용 (Today I Learned)


### PAT (Port NAT)
- ***"내부"→"외부"*** !! 패킷 하나하나마다 포트가 붙음.
- port? → 각종 서비스(HTTP, FTP 등등)들이 구동/운영되는 "통로" ~ Transport Layer
- 외부 → 내부 ?? : 불가능하다. Private Network로 구성했기 때문에 라우팅 자체가 불가능한 것이 당연하다.
- 내부 주소가 PAT(Port NAT) 적용되면, ***"하나의 외부 인터페이스의 주소"로 변경*** ~ 외부 네트워크에 같이 물린다는 개념으로 이해하자.


※ CISCO 명령어
1.  Source 정의(Access Control List ~ ACL)
   - access-list <임의의 리스트ID 값> permit <PNAT 대상 내부의 Network Address> <WildcardMask>

   
2. 내부 / 외부를 명시
   - interface <내부 네트워크가 물려있는 인터페이스> → ip nat inside
   - interface <외부로 연결된 네트워크가 물려있는 인터페이스> → ip nat outside 


3. PNAT 설정
   - ip nat inside source list <위에서 지정한 임의의 리스트ID 값> interface f0/1(***외부로 연결된 인터페이스!!!***) overload

> 이후, 외부로 ping 명령어 때려보거나, do show ip nat tran으로 port가 명시되면서 통신이 되는 것을 확인할 수 있다.


### DNAT (Destination NAT)
- ***"외부"→"내부"*** !! 목적지를 찍고 들어간다.
- 외부로 연결된 네트워크가 물려있는 인터페이스 주소를 찍고 들어온다. ***"공인IP가 될 것."***
- 내부 → 외부 → 내부 ? : 불가능하다. Private 망 내의 사설 IP로는 라우팅이 불가능하고, 목적지의 공인 IP 까지만 지정 가능.
  > 공인 IP 주소랑 포트 번호 정보를 들고 찾아오면 내부 Private 네트워크 망 안으로 들여보내줄게~~


※ CISCO 명령어
1. 내부 / 외부를 명시
   - interface <내부 네트워크가 물려있는 인터페이스> → ip nat inside
   - interface <외부로 연결된 네트워크가 물려있는 인터페이스> → ip nat outside 


2. DNAT 설정
   - ip nat inside source static tcp <내부 Network Address> <Port 번호> <외부 공인 IP> <Port 번호>
     > 모든 명령어는 내부가 먼저이다! 헷갈리지 말자.


## 슈퍼네팅 - Supernetting
- 서브네팅(Subnetting)과 정반대의 개념 ~ ISP업체에서 많이 활용하는 기법
- ***대상 서브넷을 포함할 수 있는 가장 작은 네트워크***를 구한다.
※ 계산 방법
1. 서브넷을 나열하고, 고정되는 최대 Bit를 구한다. → 서브네팅과 마찬가지로 네트워크 규모 & Prefix를 구한다.
2. 고정되지 않은 Bit를 0으로 채워서 Network Address 를 구한다.
> 외부로 통신되어야 하는 서브넷들이 많을 경우, 슈퍼네팅을 한 다음 PNAT의 Access List 에 적용할 때 활용!!!!!!


## 🔥 도전 과제 & 해결 (Challenge & Solution)

- **과제/문제**: X
- **시도 및 해결**: X

## 💭 오늘의 회고 (Retrospective)

- **Keep (좋았던 점)**: 이해하는 재미가 생긴다.
- **Problem (아쉬웠던 점)**: PNAT, DNAT가 아직은 헷갈린다.
- **Try (시도할 점)**: 복습을 통해 확실히 구분할 수 있는 경지에 오르도록.

## 🔗 참고 자료 (References)
